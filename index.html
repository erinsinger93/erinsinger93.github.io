<!DOCTYPE html>
<html>
	<head>
		<title>Erin Singer Portfolio Site</title>
    <!-- CSS -->
    <link href="dist/main.css" rel="stylesheet">

    <!-- Viewport -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimal-ui" />
	</head>
	<body>

	<header class="header">
		<div class="header__banner vertically-centered display-flex align-items-center">
			<h1 class="header__name flex-shrink-0" aria-label="Erin Singer's Portfolio"></h1>
			<div class="header__subtitle-and-navigation display-flex flex-column">
				<h2 class="header__subtitle flex-shrink-0"> Web, UI, &#38; UX </h2>
				<nav class="header__nav">
					<a href="#about" class="header__nav-item" aria-label="About Erin">
						about
					</a>
					<span class="dot" aria-hidden="true">&middot;</span>
					<a href="#experience" class="header__nav-item" aria-label="Erin's work experience">
						experience
					</a>
					<span class="dot" aria-hidden="true">&middot;</span>					
					<a href="#projects" class="header__nav-item" aria-label="Erin's projects">
						projects
					</a>
					<span class="dot" aria-hidden="true">&middot;</span>					
					<a href="#other" class="header__nav-item" >
						other
					</a>
					<span class="dot" aria-hidden="true">&middot;</span>					
					<a href="#contact" class="header__nav-item" aria-label="Contact Erin"> 
						contact 
					</a>
				</nav>
			</div>
		</div>
	</header>


	<!-- About section -->
	<a name="about"></a>
	<div class="section about">	
		<h2 class="section__title">
			I've always loved creating things
		</h2>

		<div class="timeline__container">
			<div class="timeline vh-centered">
				<div class="timeline__marker vertically-centered"></div>
				<div class="timeline__line vh-centered"></div>
				<div class="timeline__items display-flex">
					<div class="timeline__item">
						<div class="timeline__indicator"></div>
					</div>
					<div class="timeline__item">
						<div class="timeline__indicator"></div>
					</div>
					<div class="timeline__item">
						<div class="timeline__indicator"></div>
					</div>
					<div class="timeline__item">
						<div class="timeline__indicator"></div>
					</div>
					<div class="timeline__item">
						<div class="timeline__indicator"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="experience__truecar">
		<img class="truecar img-responsive auto_margin" src="truecar_car_color.png" />
		<br/>
		<img class="cooliris img-responsive auto_margin" src="cooliris_sketch.png" />
	</div>

	<!-- Scripts -->
		<script src="js/jquery.js"></script>
		<script>
			const TIMELINE_MARKER_WIDTH = 26;
			document.addEventListener('DOMContentLoaded', function() {

        function moveMarker(e) {
        	const target = e.target;
        	if (!target.classList.contains('timeline__indicator')) {
        		return;
        	}
      		
      		const timelineXOffset = document.querySelector('.timeline').getBoundingClientRect().x;
          const indicatorBoundaries = target.getBoundingClientRect();
          const indicatorCenter = indicatorBoundaries.x - timelineXOffset + indicatorBoundaries.width/2;
          const marker = document.querySelector('.timeline__marker');
          const markerXOffset = indicatorCenter - (TIMELINE_MARKER_WIDTH / 2);
          marker.style.left = `${markerXOffset}px`;
        }

				function resetMarker() {
					const marker = document.querySelector('.timeline__marker');
          marker.style.left = `0`;
          return true;
				}

				// Reset the marker on window resize, then debounce until window has finished resizing
        let isMarkerReset;
        let resizeTimeout;
				window.addEventListener('resize', function() {
					if (!isMarkerReset) {
						isMarkerReset = resetMarker();
					} else {
						// clear the timeout
					  clearTimeout(resizeTimeout);
				  	
				  	// start timing for event "completion", then reset our boolean
				  	resizeTimeout = setTimeout(() => {
				  		isMarkerReset = false;
				  	}, 250);
					}
				});

        document.querySelector('.timeline__items').addEventListener('mouseover', moveMarker);
      }
    );
		</script>
	</body>
</html>